
**ADR: 2025-12.2 - Выбор технологии программирования серверной части**

**Дата:** 20 декабря 2025 г.

**Статус:** На проверке

**Контекст:** 

При разработке серверной части платформы «Спортивная Статистика» мы сталкиваемся с необходимостью выбрать технологию программирования, которая обеспечит высокую производительность, масштабируемость, надёжность и удобство поддержки. Этот выбор напрямую повлияет на скорость разработки, стабильность системы в условиях высокой нагрузки (например, во время прямых трансляций матчей), а также на возможность привлечь квалифицированных разработчиков.

**Рассмотренные варианты:**

1. **Java:** Опытный, надежный и проверенный временем язык программирования с большим экосистемой и инструментами.
2. **Kotlin:** Современный язык, который работает на JVM и совместим с Java, предлагая более выразительный синтаксис и улучшенную безопасность типов.
3. **Go:**  Отличная производительность и простота развёртывания, но слабая поддержка аналитики и машинного обучения.
4. **Python:** Лидер в области науки о данных, машинного обучения и быстрой разработки, с богатой экосистемой и высокой выразительностью кода.

**Решение:**

Выбран Python.

**Обоснование:**

- **Богатая экосистема для анализа данных:** Python предлагает мощные библиотеки, такие как Pandas и NumPy для обработки статистики, Scikit-learn и TensorFlow для прогнозирования результатов, что критично для спортивной аналитики.
- **Быстрая разработка и прототипирование:** Простой синтаксис ускоряет итерации, позволяя быстро внедрять функции вроде реального времени обновлений с FastAPI или Celery.
- **Интеграция с Big Data инструментами:** Легкая совместимость с Apache Spark, Kafka для стриминга live-статистики и облачными сервисами (AWS, GCP) для масштабирования.
- **Сообщество и доступность талантов:** Широко распространен в data science и sports tech, что упрощает найм специалистов и использование open-source решений для интеграций с API
- **Гибкость для ML и AI:** Встроенная поддержка моделей для прогнозирования и рекомендаций, без необходимости в дополнительных языках.
- **Интеграция с внешними системами:** Python отлично подходит для парсинга данных, взаимодействия с API спортивных лиг, обработки видео-метаданных 

**Недостатки решения:**

**Зависимость от оптимизаций:** Без дополнительных инструментов (например, Cython, PyPy или внешних сервисов) может не справляться с большими объемами данных так эффективно, как более низкоуровневые языки.
**Более высокое потребление памяти:** По сравнению с Go или Rust, Python‑приложения могут использовать больше RAM, особенно при работе с pandas.
**Динамическая типизация:** Увеличивает риск ошибок времени выполнения, если не использовать строгую типизацию и покрытие тестами.


**Последствия:**

**Положительные**
- Все серверные компоненты будут разработаны на Python, с использованием фреймворков вроде FastAPI для API
- Обеспечить обучение команды по лучшим практикам Python в контексте микросервисов и реального времени.
- Хорошая поддержка асинхронных веб-фреймворков (FastAPI, Starlette), позволяющих эффективно обслуживать тысячи одновременных подключений

**Не положительные**
- Риск снижения стабильности при недостаточной типизации и слабом покрытии тестами.
- Необходимо оптимизировать производительность (PyPy или caching) для пиковых нагрузок во время турниров и мониторить уязвимые места.
- Потенциальная необходимость поддержки гибридного стека (например, Rust-сервисы для обработки видео или Go-сервисы для высокочастотных событий), что усложняет архитектуру и DevOps.
- Обеспечить обучение команды по лучшим практикам Python в контексте микросервисов и реального времени, если опыт ограничен, что может увеличить начальные затраты времени.